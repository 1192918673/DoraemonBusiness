apply plugin: 'com.android.application'


ext {
    TestVersion = '1.0.0.1'
    TestVersionCode = 1000001
    Version = '1.0.0'
    VersionCode = 10000
    DevURLDOMAIN = '"http://112.126.73.73:12306"'
    BetaURLDOMAIN = '"https://ol.api.xhkhealth.com"'
    OnlineURLDOMAIN = '"https://ol.api.xhkhealth.com"'
}

android {
    compileSdkVersion 22
    buildToolsVersion "23.0.3"

    defaultConfig {
        applicationId "com.geeknewbee.doraemon"
        minSdkVersion 16
        targetSdkVersion 22
        versionCode 1
        versionName "1.0"

        ndk { abiFilters 'armeabi' }
    }

    signingConfigs {
        myConfig {
            storeFile file("keystore.jks")      //签名文件
            storePassword "111111"
            keyAlias "doraemon"
            keyPassword "111111"  //签名密码
        }
    }
    buildTypes {
        release {
            signingConfig signingConfigs.myConfig
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
        debug {
            signingConfig signingConfigs.myConfig
            minifyEnabled false
        }
    }


    productFlavors {
        //开发版
        Dev {
            versionName TestVersion
            versionCode TestVersionCode
            buildConfigField "String", "URLDOMAIN", DevURLDOMAIN
        }
        //测试版
        Beta {
            versionName TestVersion
            versionCode TestVersionCode
            buildConfigField "String", "URLDOMAIN", BetaURLDOMAIN
        }

        //发布版
        Online {
            buildConfigField "String", "URLDOMAIN", OnlineURLDOMAIN
        }
    }

    applicationVariants.all { variant ->
        variant.outputs.each { output ->
            output.outputFile = new File(output.outputFile.parent, "Doraemon_Business" + variant.productFlavors.get(0).name + "_"
                    + variant.buildType.name + "_" + variant.versionName + ".apk")
        }
    }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    compile 'com.squareup.retrofit2:retrofit:2.1.0'
    compile 'com.squareup.retrofit2:adapter-rxjava:2.0.0'
    compile 'com.squareup.retrofit2:converter-gson:2.0.0'
    compile 'pl.droidsonroids.gif:android-gif-drawable:1.1.17'
    /*compile ('com.facebook.fresco:fresco:0.9.0') {
        exclude group: 'com.android.support'
        exclude group: 'com.nineoldandroids'
        exclude group: 'imagepipeline/jni/arm64-v8a'
    }*/
}
